<div
  {{did-insert this.onUpdate}}
  {{did-update this.onUpdate @identity}}
>
  {{#if this.model}}
    <ValidatedForm
      @model={{changeset this.model this.validations}}
      @on-submit={{perform this.submit}}
      as |Form|
    >
      <Form.input
        @label={{t "component.identity-form.label.idpId"}}
        @name="idpId"
      />

      <Form.input
        @label={{t "component.identity-form.label.organisationName"}}
        @name="organisationName"
      />

      <Form.input
        @label={{t "component.identity-form.label.firstName"}}
        @name="firstName"
      />

      <Form.input
        @label={{t "component.identity-form.label.lastName"}}
        @name="lastName"
      />

      <Form.input
        @label={{t "component.identity-form.label.isOrganisation"}}
        @type="checkbox"
        @name="isOrganisation"
      />

      <p class="uk-text-right">
        <LinkTo
          class="uk-button uk-button-default"
          @route="identities"
        >
          {{t "component.identity-form.control.cancel"}}
        </LinkTo>

        <Form.submit
          @label={{t "component.identity-form.control.submit"}}
        />
      </p>
    </ValidatedForm>
  {{/if}}
</div>
